version: 2

sources:
  # - name: nba
  #   schema: psa
  #   meta:
  #     external_location: "{{ env_var('MELTANO_PROJECT_ROOT') }}/data/data_catalog/psa/{identifier}/*.parquet"
  #   tables:
  #     - name: schedule
  #       identifier: nba_schedule_2023
  #       description: this is the nba schedule
  #     - name: team_ratings
  #       description: team ELO ratings & win totals
  #     - name: xf_series_to_seed
  #       description: cross ref table to match series to seeds
  #     - name: nba_elo_latest
  #       description: ratings from 538 repo
  #     - name: latest_RAPTOR_by_player
  #       description: 538 RAPTOR ratings by player
  #     - name: latest_RAPTOR_by_team
  #       description: 538 RAPTOR ratings by player by team & game type
     
  # - name: nba_prep
  #   schema: prep
  #   meta: 
  #     external_location: "{{ env_var('MELTANO_PROJECT_ROOT') }}/data/data_catalog/prep/{identifier}.parquet"
  #   tables:
  #     - name: elo_post
  #       description: elo after running proc for record actual results
  #     - name: results_log
  #       description: game results with elo before each game. feeds into elo_post, which holds latest ratings
  - name: cfb_prep
    schema: prep
    meta: 
      external_location: "{{ env_var('MELTANO_PROJECT_ROOT') }}/data/data_catalog/psa/{identifier}/*.parquet"
    tables:
      - name: coaches
        description: CFB coaches     
      - name: calendar
        description: CFB calendar for each season start/end 
      - name: conferences
        description: CFB conferences to tie with teams
      - name: games
        description: CFB games played and their results
      - name: lines
        description: CFB betting lines for games (past)    
      - name: rankings
        description: CFB rankings
      - name: teams
        description: CFB teams and details
      - name: elo
        description: CFB elo per season        
  - name: ff_prep
    schema: prep
    meta: 
      external_location: "{{ env_var('MELTANO_PROJECT_ROOT') }}/data/data_catalog/raw/{identifier}.parquet"
    tables:
      - name: activities
        description: league activities each week     
      - name: draft
        description: draft order
      - name: free_agent_box
        description: box scores each week for top 10 free agents by position
      - name: matchup_results
        description: results of weekly matchups
      - name: player_box
        description: weekly player box scores   
      - name: player_season
        description: aggregate player season stats/info
      - name: results
        description: results of games
      - name: teams
        description: team level info                                            

